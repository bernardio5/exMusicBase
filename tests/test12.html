<!DOCTYPE html >
<head>
<title>Exercises/starting</title>
<link rel="stylesheet" href="../styles.css">
<script type="text/javascript" src="../toMerge/ex.js"></script> 
<script type="text/javascript" src="../toMerge/score.js"></script> 
<script type="text/javascript">
	var theExercise, theCanvas, isPaused;   
	
	function setParameters() { 
        var anin = new exErciseInit();
        anin.canvas = theCanvas; 
         
        anin.bpMeasure = parseInt(document.getElementById('bpm').value);
        anin.bpMinute = parseInt(document.getElementById('tempo').value);

        var fun = document.getElementById('fundamental').value; 
		var oct = document.getElementById('octave').value; 
        anin.fundamental = fun+(oct*12);
        anin.mode = document.getElementById('mode').value; 

        anin.exercise = parseInt(document.getElementById('exercise').value); 
        var exHi = parseInt(document.getElementById('seedHi').value); 
        var exLo = parseInt(document.getElementById('seedLo').value); 
        anin.seed = exHi * 16 + exLo; 

        anin.tuning = parseInt(document.getElementById('tuning').value);
        theExercise = new exErcise(anin);
	}


    var pause = function() {
        if (isPaused==1) { isPaused = 0; }
        else { isPaused=1; }
    }

    var restart = function() {
        theExercise.restart(); 
    }

    var animator = function() {
        if (isPaused==0) { 
            theExercise.updateAndDraw(); 
        }
    }
	
	
	var startAnimation = function() { 
		theCanvas = document.getElementById("mainCanvas");
		var anInit = new exErciseInit(); 
        anInit.canvas = theCanvas; 
        isPaused = 0;
        theExercise = new exErcise(anInit); 
		setInterval(animator,50);  
	}

</script>

<body  onLoad="startAnimation();">
<div class="container">
    <br>      
    
  <div class="subCont">
    	<canvas id="mainCanvas" width="782" height="320"></canvas> <!-- hey look: the canvas! -->
    </div><!-- subCont -->
    <div class = "subCont"><center>
    	Beats per Measure:<select id='bpm'>
            <option value='3'>3</option>
            <option value='4' selected>4</option>
            <option value='5'>5</option>
            <option value='6'>6</option>
            <option value='7'>7</option>
            <option value='8'>8</option>
            <option value='9'>9</option>
            <option value='10'>10</option>
            <option value='11'>11</option>
            <option value='12'>12</option>
            </select>
        Beats per Minute:<input type="text" value='100' size=5 id ='tempo' /><br />
        Fundamental / Octave / Mode: 
    	<select id='fundamental'>
    		<option value='0' selected>C</option>
    		<option value='1'>C#</option>
    		<option value='2'>D</option>
    		<option value='3'>D#</option>
    		<option value='4'>E</option>
    		<option value='5'>F</option>
    		<option value='6'>F#</option>
    		<option value='7'>G</option>
    		<option value='8'>G#</option>
    		<option value='9'>A</option>
    		<option value='10'>A#</option>
    		<option value='11'>B</option>
    		</select>
    	<select id='octave'>
    		<option value='36'>2</option>
    		<option value='48'>3</option>
    		<option value='60' selected>4</option>
    		<option value='72'>5</option>
    		</select>
    	<select id='mode'>
    		<option value='0' selected>major</option>
    		<option value='1'>minor</option>
    		<option value='2'>Dorian</option>
    		<option value='3'>whole</option>
    		<option value='4'>Hungarian</option>
    		<option value='5'>pentatonic</option>
    		<option value='6'>hexatonic</option>
    		</select>
    		<br/>
    	Exercise:<select id='exercise'>
    		<option value='0'>Notes in Key</option>
    		<option value='1'>Notes in Key On Hand</option>
    		<option value='2'>Rhythm A</option>
    		<option value='3'>Chord Progressions</option>
    		</select>
        Number: <select id='seedHi'>
            <option value='0'>0</option>
            <option value='1'>1</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5</option>
            <option value='6'>6</option>
            <option value='7'  selected>7</option>
            <option value='8'>8</option>
            <option value='9'>9</option>
            <option value='10'>10</option>
            <option value='11'>11</option>
            <option value='12'>12</option>
            <option value='13'>13</option>
            <option value='14'>14</option>
            <option value='15'>15</option>
            </select> .
        <select id='seedLo'>
            <option value='0'>0</option>
            <option value='1'>1</option>
            <option value='2'>2</option>
            <option value='3'>3</option>
            <option value='4'>4</option>
            <option value='5'>5</option>
            <option value='6'>6</option>
            <option value='7'>7</option>
            <option value='8'  selected>8</option>
            <option value='9'>9</option>
            <option value='10'>10</option>
            <option value='11'>11</option>
            <option value='12'>12</option>
            <option value='13'>13</option>
            <option value='14'>14</option>
            <option value='15'>15</option>
            </select>
            <br/>
        Instrument Tuning:<select id='tuning'>
            <option value='0'>Std Guitar: EADGBE</option>
            <option value='1'>Open D: DADFAD</option>
            <option value='2'>Open C: CEGCEG</option>
            <option value='3'>El Noy: </option>
            <option value='10'>Uke! GCEA</option>
            </select>
            <br>
       
    	<button onclick="setParameters();" href="javascript:;">Change</button>
        <button onclick="pause();" href="javascript:;">Pause</button>
        <button onclick="restart();" href="javascript:;">Restart</button>
    </center>
 	</div></div> 
</div><!-- container -->

</body>
</html>
